CARRY SELECT ADDER

.option filetype=ascii

***LIBRERIE***
.INCLUDE ST65LIKE_cell_library_v2020_1.net
.INCLUDE 16nm_HP.pm

***PARAMETRI GLOBALI***
.PARAM vthVARn=0.3423
.PARAM vthVARp=-0.23122
.PARAM ndepVARn=3.96e+018
.PARAM ndepVARp=1.68e+018
.PARAM toxpVAR=5.21e-010
.PARAM Lmin=51.71336n
.PARAM Wmin=36.05883n
.PARAM XXX=1
.PARAM tr=50p

***Setup logic
.subckt SETUP_SUB 0 Vdd p g inA inB XX=1
XP 0 Vdd p inA inB XOR2_SUB XX=1
XG 0 Vdd g inA inB AND2_SUB XX=1
.ends SETUP_SUB

***Adder
.subckt FAcsa_SUB 0 Vdd sum Cout p g cin XX=1
XS 0 Vdd sum p cin XOR2_SUB XX=1
XP 0 Vdd node p cin AND2_SUB XX=1
XNOR 0 Vdd Coutnot node g NOR2_SUB XX=1
XC 0 Vdd Cout Coutnot NOT_SUB XX=1
.ends FAcsa_SUB

***
.subckt csa 0 Vdd ina0 inb0 ina1 inb1 XX=1
XSETUP0 0 Vdd p0 g0 ina0 inb0 SETUP_SUB XX=1
XSETUP1 0 Vdd p1 g1 ina1 inb1 SETUP_SUB XX=1
X0 0 Vdd sum0 cout0 p0 g0 0 FAcsa_SUB XX=1
XaddC1 0 Vdd sum1 cout1 p1 g1 Vdd FAcsa_sub XX=1 
.ends

.TRAN 0.1p 820p

V0 A0 0 PWL(0 0 820p 0)
*V0 A0 0 PWL(0 0 5p 0 6p 1 820p 1)
V1 A1 0 PWL(0 0 820p 0)
V2 B0 0 PWL(0 0 820p 0)
V3 B1 0 PWL(0 0 820p 0) 

V_dd Vcc 0 1
.end

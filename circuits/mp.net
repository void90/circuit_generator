*MOLTIPLICATORE PARALLELO

.option filetype=ascii

***CARICAMENTO LIBRERIE***
.INCLUDE ST65LIKE_cell_library_v2020_1.net
.INCLUDE 16nm_HP.pm

**************************
***DEFINIZIONE DEI PARAMETRI GLOBALI***
.PARAM Lmin=51.71336n
.PARAM Wmin=36.05883n
.PARAM XXX=1
.PARAM tr=50p

**************************
***DEFINIZIONE DEI SOTTOCIRCUITI***
.subckt PART_SUB 0 Vdd out0 out1 out2 out3 x0in x1in x2in x3in y XX=1
	xand0 0 Vdd out0 x0in y AND2_SUB XX=XXX
	xand1 0 Vdd out1 x1in y AND2_SUB XX=XXX
	xand2 0 Vdd out2 x2in y AND2_SUB XX=XXX
	xand3 0 Vdd out3 x3in y AND2_SUB XX=XXX
.ends


.subckt RCA_SUB 0 Vdd sum0 sum1 sum2 sum3 cout3 cin0 a0in a1in a2in a3in b0in b1in b2in b3in XX=1 
	xfa0 0 Vdd sum0 cout0 0 a0in b0in FA_SUB XX=XXX
	xfa1 0 Vdd sum1 cout1 cout0 a1in b1in FA_SUB XX=XXX
	xfa2 0 Vdd sum2 cout2 cout1 a2in b2in FA_SUB XX=XXX
	xfa3 0 Vdd sum3 cout3 cout2 a3in b3in FA_SUB XX=XXX
.ends 

.subckt MP_SUB 0 Vdd z0 z1 XX=1
	xpart0 0 Vdd z0 0out1 0out2 0out3 0xin 1xin 2xin 3xin 0yin PART_SUB XX=XXX
	xpart1 0 Vdd 1out0 1out1 1out2 1out3 0xin 1xin 2xin 3xin 1yin PART_SUB XX=XXX
	xadd0 0 Vdd z1 s1 s2 s3 c3 c0 0out1 0out2 0out3 0 1out0 1out1 1out2 1out3 RCA_SUB XX=XXX
	xpart3 0 Vdd 2out0 2out1 2out2 2out3 
.ends

**************************
***DICHIARAZIONE DEL COMPONENTI***

**************************
***COMANDI DI SIMULAZIONE***

.PRINT tran V(A0) V(B0) V(A1) V(B1) V(S0) V(S1) V(S2) V(S3)

.TRAN 0.1p 820p

.end
